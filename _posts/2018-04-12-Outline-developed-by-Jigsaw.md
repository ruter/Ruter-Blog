---
layout: post
title: ã€Œç©ç‰©å¿—ã€æ¥è‡ª Jigsaw çš„ Outline
categories: [ç©ç‰©å¿—, Tutorial]
description: å­—æ¯è¡¨å…¬å¸çš„å­µåŒ–å™¨ Jigsaw åšçš„ä»£ç†è½¯ä»¶ï¼Œä¸æ¥ä½“éªŒä¸€ä¸‹å—ï¼Ÿ
keywords: ç©ç‰©å¿—, Outline
---

å‰æ®µæ—¶é—´ï¼Œæ¥è‡ªè°·æ­Œï¼ˆGoogleï¼‰æ¯å…¬å¸ `Alphabet` æ——ä¸‹çš„ç§‘æŠ€å­µåŒ–å™¨ [Jigsaw](https://jigsaw.google.com/) å¼€å‘äº†ä¸€æ¬¾åä¸ºã€ŒOutlineã€çš„ä»£ç†è½¯ä»¶ï¼Œæˆ‘ä»¬ä»Šå¤©å°±æ¥ä½“éªŒä¸€ä¸‹è°·æ­ŒåŒé—¨å¼€å‘çš„è¿™æ¬¾åº”ç”¨ï¼Œçœ‹çœ‹å®ƒæœ‰æ²¡æœ‰ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆæƒŠå–œğŸ‰

# å…³äº Outline

å…¶å® Outline å¹¶ä¸æ˜¯ä¸€ä¸ªåº”ç”¨è½¯ä»¶ï¼Œè€Œæ˜¯ç”±æœåŠ¡ç«¯ï¼ˆOutline Managerï¼‰å’Œå®¢æˆ·ç«¯ï¼ˆOutline clientsï¼‰é…å¥—ç»„åˆè€Œæˆï¼Œä¸è¿‡é€šå¸¸ Outline æŒ‡çš„å°±æ˜¯å®¢æˆ·ç«¯ï¼Œåªä¸è¿‡å®¢æˆ·ç«¯éœ€è¦é…åˆæœåŠ¡ç«¯ä¸€èµ·æ‰èƒ½ä½¿ç”¨ã€‚äº‹å®ä¸Šå¦‚æœä½ åªæœ‰æœåŠ¡ç«¯ï¼Œå…¶å®ä¸éœ€è¦ Outline çš„å®¢æˆ·ç«¯ä½ ä¹Ÿä¸€æ ·å¯ä»¥ä½¿ç”¨ç›¸å…³çš„åŠŸèƒ½ï¼Œè¿™æ˜¯åè¯äº†ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹å®˜æ–¹å¯¹è¿™ä¸¤ä¸ªé¡¹ç›®çš„ä»‹ç»å§ã€‚

ä»€ä¹ˆæ˜¯ Outline Manager?

> Outline Manager, developed by Jigsaw. The Outline Manager application creates and manages Outline servers, powered by Shadowsocks. It uses the Electron framework to offer support for Windows, macOS and Linux.

ä»€ä¹ˆæ˜¯ Outline?

> Outline clients, developed by Jigsaw. The Outline clients use the popular Shadowsocks protocol, and lean on the Cordova and Electron frameworks to support Windows, Android / ChromeOS, iOS and macOS.

ä¸€å¥è¯è¯´å®Œï¼ŒOutline Manager æ˜¯ç”± Jigsaw å¼€å‘çš„ç”¨äºåˆ›å»ºå’Œç®¡ç† Outline æœåŠ¡çš„è·¨å¹³å°åº”ç”¨ï¼Œè€Œ Outline åˆ™æ˜¯ä¸€æ¬¾ä½¿ç”¨ç›®å‰æµè¡Œçš„ SS åè®®çš„è·¨å¹³å°ä»£ç†åº”ç”¨ã€‚

åœ¨ Outline çš„å®˜æ–¹é¡µé¢ä¸Šæœ‰è¯´åˆ°ï¼ŒOutline æ˜¯ä¸ºæ–°é—»æœºæ„è€Œç”Ÿçš„ï¼Œå®ƒæ˜“äºåˆ›å»ºå’Œç®¡ç†ï¼Œå¹¶ä¸”å…·æœ‰å¾ˆå¼ºçš„ç§å¯†æ€§å’Œå®‰å…¨æ€§ï¼Œç”¨äºä¿æŠ¤æ–°é—»æœºæ„å·¥ä½œè€…ä»¬çš„éšç§ã€‚

# ä½“éªŒ Outline

åœ¨å¼€å§‹ä½“éªŒå’Œåˆ›å»ºä½ çš„ä¸ªäºº Outline æœåŠ¡ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å·²ç»æœ‰ä¸€ä¸ªå¯ç”¨çš„ï¼Œå¹¶ä¸”æ”¯æŒ Docker çš„æœåŠ¡å™¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£æ²¡å…³ç³»ï¼Œä½ å¯ä»¥å»è´­ä¹°ä¸€ä¸ªæ–°çš„ VPS ä¸»æœºï¼ŒOutline å®˜æ–¹ä¹Ÿæåˆ°äº†ï¼Œç°åœ¨çš„ VPS ä¸»æœºåŸºæœ¬åªéœ€è¦ 5 ç¾å…ƒä¸€ä¸ªæœˆï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ [DigitalOcean](https://www.digitalocean.com/), [Linode](https://www.linode.com/) æˆ–è€… [Vultr](https://www.vultr.com/?ref=6963885). æˆ‘ä¸ªäººç›®å‰åœ¨ä½¿ç”¨çš„æ˜¯ [Vultr](https://www.vultr.com/?ref=6963885) å®¶ 5 ç¾å…ƒæ¯æœˆçš„è®¡åˆ’ï¼Œå…¶ä½™ä¸¤å®¶æˆ‘æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œä¸ªäººæ¨èçš„è¯æˆ‘ä¹Ÿä¼šæ¨èä½ ä½¿ç”¨ [Vultr](https://www.vultr.com/?ref=6963885) å®¶çš„ï¼Œä¸ä»…å¯ä»¥ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ï¼Œè€Œä¸”è¿ˆé˜¿å¯†ï¼ˆMiamiï¼‰æœºæˆ¿çš„æœºå­è¿˜æœ‰ 2.5 ç¾é‡‘æ¯æœˆçš„è®¡åˆ’ã€‚

æ³¨ï¼šå¦‚æœä½ æ˜¯æ–°æ³¨å†Œ Vultrï¼Œå¯ä»¥ä½¿ç”¨ `NGINX20` è¿™ä¸ªä¼˜æƒ ç ï¼Œæ³¨å†Œåä¼šèµ é€20ç¾å…ƒä½™é¢ã€‚

OKï¼Œå¦‚æœä½ å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ¥ä¸‹æ¥è¦åšçš„äº‹æƒ…å°±æ˜¾å¾—ååˆ†ç®€å•äº†ã€‚é¦–å…ˆè¦å» Outline çš„å®˜ç½‘æˆ–è€… GitHub ä»“åº“ï¼Œå°† Outline Manager å’Œ Outline åˆ†åˆ«ä¸‹è½½å¥½ï¼Œä¼ é€é—¨åœ¨ä¸‹é¢ï¼š

- [Outline å®˜ç½‘](https://getoutline.org/en/home)
- [Outline Manager GitHub ä»“åº“ä¸‹è½½åœ°å€](https://github.com/Jigsaw-Code/outline-server/releases)
- [Outline GitHub ä»“åº“ä¸‹è½½åœ°å€](https://github.com/Jigsaw-Code/outline-client/releases)

æ³¨ï¼šå¦‚æœæ˜¯åœ¨å®˜æ–¹çš„ Github ä»“åº“ä¸‹è½½çš„è¯ï¼Œè¯·é€‰æ‹©å¸¦æœ‰ç»¿è‰²çš„ `Latest release` æ ‡ç­¾çš„ç‰ˆæœ¬ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ `Pre-release` ç‰ˆæœ¬çš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€äº›æ„å¤–çš„ Bug.

åœ¨ä¸‹è½½å®Œæ¯•å¹¶ä¸”å®‰è£…å¥½åï¼Œæˆ‘ä»¬å…ˆæ‰“å¼€ Outline Managerï¼Œå¯ä»¥çœ‹åˆ°åœ¨ç•Œé¢ä¸Šè®©æˆ‘ä»¬è·ŸéšæŒ‡å¼•è¿›è¡Œ Outline æœåŠ¡å®‰è£…ï¼Œåªæœ‰ä¸¤ä¸ªæ­¥éª¤ï¼Œååˆ†ç®€å•ã€‚

![Outline Manager](/images/Outline/outline-manager.png)

 ç¬¬ä¸€æ­¥ï¼Œç™»å½•ä½ çš„æœåŠ¡å™¨ï¼Œç„¶ååœ¨ç»ˆç«¯ç²˜è´´è¾“å…¥ Outline Manager çš„æ¡†æ¡†é‡Œé‚£ä¸€é•¿ä¸²å‘½ä»¤

```shell
wget -qO- https://raw.githubusercontent.com/Jigsaw-Code/outline-server/master/src/server_manager/install_scripts/install_server.sh | bash
```

å¦‚æœä½ çš„æœåŠ¡å™¨å·²ç»å®‰è£…å¹¶ä¸”å¯åŠ¨äº† Docker çš„æœåŠ¡ï¼Œé‚£ä¹ˆæ‰§è¡Œå®Œè¿™æ¡å‘½ä»¤ä¹‹åå°±å·²ç»å¤§åŠŸå‘Šæˆäº†ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… Docker æˆ–è€…è¯´å®‰è£…äº†è¿˜æ²¡å¯åŠ¨ï¼Œä½ ä¼šå‘ç°æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä¹‹åä¼šå‡ºç°ä¸€åˆ°ä¸¤ä¸ªé”™è¯¯ï¼Œä¸è¦æ…Œï¼Œæˆ‘ä»¬ä¸€ä¸ªä¸ªæ¥è§£å†³ã€‚

å¦‚æœä½ å‘ç°é”™è¯¯ä¸­æœ‰ä¸€æ¡æ˜¾ç¤º `Docker CE must be installed...` è¿™æ ·çš„é”™è¯¯ï¼Œè¯´æ˜ä½ çš„æœåŠ¡å™¨è¿˜æ²¡å®‰è£… Dockerï¼Œè§£å†³æ–¹æ³•å°±æ˜¯ç›´æ¥è¿è¡Œé”™è¯¯ä¸­çš„é‚£æ¡å‘½ä»¤ `curl -sS [https://get.docker.com/](https://get.docker.com/) | sh` æˆ–è€…æ ¹æ®å®˜æ–¹çš„ã€Œ[å®‰è£…æŒ‡å—](https://docs.docker.com/install/linux/docker-ce/centos/#install-docker-ce-1)ã€æ‰‹åŠ¨è¿›è¡Œå®‰è£…ã€‚

å¦‚æœä½ å·²ç»å®‰è£…äº† Dockerï¼Œä½†æ˜¯ä¾ç„¶æœ‰é”™è¯¯ï¼Œé‚£åº”è¯¥æ˜¯è¯´ä½ è¿˜æ²¡å°† Docker æœåŠ¡è·‘èµ·æ¥ï¼Œå¾ˆç®€å•åªéœ€è¦æ‰§è¡Œ `sudo systemctl start docker` å°†æœåŠ¡è¿è¡Œèµ·æ¥å°± OK äº†ã€‚

æ³¨ï¼šä»¥ä¸Šæ“ä½œéƒ½æ˜¯åŸºäºæœåŠ¡å™¨ç¯å¢ƒ CentOS 7.x è¿›è¡Œï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯å…¶ä»–ç³»ç»Ÿï¼Œè¯·å…·ä½“å‚è€ƒ Docker å®˜æ–¹çš„æ–‡æ¡£è¿›è¡Œå®æ–½ã€‚

å®Œæˆ Docker çš„å®‰è£…å¹¶å¯åŠ¨ä¹‹åï¼Œå†æ¬¡æ‰§è¡Œæœ€å¼€å§‹çš„é‚£ä¸€æ¡é•¿é•¿çš„å‘½ä»¤ï¼Œè¿™ä¸€æ¬¡ä¼°è®¡æ²¡æœ‰ä»»ä½•çš„é”™è¯¯äº†ï¼Œå®‰è£…æˆåŠŸä¹‹åï¼Œä¼šå‘ç°ç»ˆç«¯è¾“å‡ºäº†ä¸€æ®µ JSON æ ¼å¼çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼ Outline Manager ç•Œé¢ä¸­ç¬¬äºŒä¸ªæ¡†æ¡†æ‰€æ˜¾ç¤ºçš„é‚£æ ·ï¼Œæˆ‘ä»¬å°†å®ƒå¤åˆ¶ä¹‹åç²˜è´´åˆ° Outline Manager ä¸­ï¼Œç„¶åç‚¹å‡» DONE å³å¯å®ŒæˆæœåŠ¡å™¨çš„å®‰è£…é…ç½®ï¼Œè¶…æ–¹ä¾¿å¿«æ·æœ‰æ²¡æœ‰ğŸ‰

å¦‚æœä¾ç„¶å‘ç°æœ‰é”™è¯¯ï¼ŒOutline Manager å·²ç»ç»™å‡ºäº†æ˜ç¡®çš„æç¤ºï¼Œæ˜¯å› ä¸ºè¿æ¥ä¸åˆ°æœåŠ¡å™¨ï¼Œä½ éœ€è¦å‰å¾€æœåŠ¡å™¨å¼€å¯ç›¸åº”çš„ç«¯å£ï¼Œå…è®¸å¯¹åº”ç«¯å£çš„ TCP å’Œ UDP è¿æ¥ï¼Œå› ä¸ºæœåŠ¡å™¨æ‰€ä½¿ç”¨çš„ç³»ç»Ÿä¸ä¸€æ ·ï¼Œå¼€å¯æ–¹æ³•ä¹Ÿå„æœ‰ä¸åŒï¼Œè¿™é‡Œå°±ä¸è¿›è¡Œè¯´æ˜äº†ï¼ŒGoogle ä¸€ä¸‹å°±æœ‰ç­”æ¡ˆå•¦ğŸ˜‰

![Outline Manager](/images/Outline/outline-manager2.png)

å®Œæˆä¹‹åæˆ‘ä»¬å¯ä»¥çœ‹åˆ° Outline Manager è¿›å…¥äº†ç®¡ç†ç•Œé¢ï¼Œç‚¹å°é½¿è½®å¯ä»¥è¿›è¡Œä¸€äº›ç®€å•çš„è®¾ç½®ï¼Œä¾‹å¦‚ä¿®æ”¹å½“å‰ Outline æœåŠ¡çš„åç§°ï¼Œåˆ é™¤è¯¥æœåŠ¡ç­‰ã€‚æˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨é»˜è®¤å·²ç»åˆ›å»ºå¥½çš„ã€ŒMy access keyã€ä¸Šï¼Œç‚¹å‡»ã€ŒGET CONNECTEDã€ä¼šè¯¢é—®ä½ æ˜¯æœ¬æœºè¿æ¥è¿˜æ˜¯å…¶ä»–è®¾å¤‡è¿›è¡Œè¿æ¥ï¼Œæˆ‘ä»¬é€‰æ‹©ã€ŒCONNECT THIS DEVICEã€è¿æ¥å½“å‰è®¾å¤‡ï¼Œç„¶åå°±ä¼šçœ‹åˆ°ä¸€ä¸ªã€Œaccess codeã€å¯ä»¥å¤åˆ¶ï¼Œèªæ˜çš„å°ä¼™ä¼´å·²ç»çŒœåˆ°äº†ï¼Œè¿™ä¸ª `ss://.....` å¼€å¤´çš„é“¾æ¥ï¼Œå…¶å®å°±æ˜¯ SS çš„é…ç½®é“¾æ¥ï¼Œç›´æ¥å°†å®ƒç²˜è´´åˆ°æ”¯æŒ SS çš„åº”ç”¨ä¸Šå°±å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä¸€å¼€å§‹æˆ‘å°±æåˆ°äº†å…¶å®ä¸éœ€è¦ Outline çš„å®¢æˆ·ç«¯ä½ ä¹Ÿä¸€æ ·å¯ä»¥ä½¿ç”¨ç›¸å…³çš„åŠŸèƒ½çš„ç¼˜ç”±ã€‚æ—¢ç„¶æˆ‘ä»¬è¦ä½“éªŒ Outlineï¼Œé‚£å½“ç„¶è¦æ‰“å¼€ Outline å®¢æˆ·ç«¯äº†ï¼Œ

![Outline](/images/Outline/outline.png)

Outline çš„ Mac ç‰ˆæ‰“å¼€ä¹‹åä¼šå‡ºç°åœ¨é¡¶éƒ¨çš„çŠ¶æ€æ ä¸­ï¼Œæ‰“å¼€ä¹‹åç‚¹ä¸­é—´çš„å›¾æ ‡ï¼Œä¼šå¼¹å‡ºæ¡†æ¡†è®©ä½ å¡«å†™ access keyï¼Œåªéœ€è¦æŠŠåˆšåˆšå¤åˆ¶å‡ºæ¥çš„å†…å®¹ç²˜è´´åˆ°è¿™é‡Œï¼Œç„¶åç‚¹å‡»ã€ŒADD SERVERã€å³å¯ã€‚æ¥ä¸‹æ¥çš„è¿æ¥å’Œæµ‹è¯•ç½‘ç»œï¼Œæˆ‘æƒ³ä¸ç”¨æˆ‘ç»§ç»­è¯´ä¸‹å»å¤§å®¶ä¹Ÿéƒ½çŸ¥é“äº†å§~

å¦‚æœæƒ³å’Œå…¶ä»–äººä¸€èµ·ä½¿ç”¨çš„è¯ï¼Œç‚¹å‡»ã€ŒADD KEYã€åˆ›å»ºä¸€ä¸ª access keyï¼Œç„¶åç‚¹å‡»ã€ŒSHAREã€å¤åˆ¶é‡Œé¢çš„å†…å®¹åˆ†äº«ç»™å°ä¼™ä¼´å§ğŸ™Š

# ä½“éªŒè¿‡å

ä¸å¾—ä¸è¯´ï¼ŒJigsaw æœç„¶æ˜¯å’Œè°·æ­ŒåŒä¸€ä¸ªå¦ˆç”Ÿçš„ï¼Œåº”ç”¨ä½“éªŒååˆ†å¥½ï¼Œç®€æ´å¥½ç”¨ï¼ŒæœåŠ¡å™¨ç«¯çš„é…ç½®æå¤§çš„ç®€åŒ–äº†æ­¥éª¤ï¼ŒåŸºæœ¬ä¸Šåªéœ€è¦å¤åˆ¶ç²˜è´´ç„¶åæŒ‰å›è½¦å°±å¥½äº†ï¼Œå…¨ç¨‹æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æŠ€èƒ½è¦æ±‚ã€‚

ä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°å”¯ä¸€ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œä»£ç†é»˜è®¤æ˜¯å…¨å±€çš„ï¼Œæ‰€æœ‰çš„æµé‡éƒ½ä¼šé€šè¿‡ Outline è¿›è¡Œè®¿é—®ï¼Œæ²¡æœ‰åŠæ³•æ ¹æ®éœ€è¦å®šåˆ¶è®¿é—®è§„åˆ™ï¼Œåœ¨ã€Œ[issue#8](https://github.com/Jigsaw-Code/outline-client/issues/8)ã€ä¸­å¯ä»¥çœ‹åˆ°ç›¸å…³çš„è®¨è®ºï¼Œçœ‹èµ·æ¥åœ¨åç»­çš„ç‰ˆæœ¬ä¸­ä¼šå°†è¿™ä¸ªç‰¹æ€§åŠ ä¸Šã€‚

Outline è¿˜åªæ˜¯ä¸ªæ–°ç”Ÿçš„é¡¹ç›®ï¼Œå³ä½¿æ˜¯è°·æ­Œçš„åŒé—¨ï¼Œä¹Ÿä¸å¯èƒ½ä¸€å¼€å§‹å°±æŠŠä¸€åˆ‡éƒ½åšå¾—å°½å–„å°½ç¾ï¼Œä¸å¦‚ä¸€èµ·æœŸå¾… Outline çš„æˆé•¿å§ğŸ‘

# ç›¸å…³é“¾æ¥

- [Vultr å®˜ç½‘](https://www.vultr.com/?ref=6963885)
- [Linode å®˜ç½‘](https://www.linode.com/)
- [DigitalOcean å®˜ç½‘](https://www.digitalocean.com/)
- [Docker å®‰è£…æŒ‡å—](https://docs.docker.com/install/linux/docker-ce/centos/#install-docker-ce-1)
- [Outline å®˜ç½‘](https://getoutline.org/en/home)
- [Outline GitHub ä»“åº“](https://github.com/Jigsaw-Code/outline-client)
- [Outline Manager GitHub ä»“åº“](https://github.com/Jigsaw-Code/outline-server)

---

![çŸ¥è¯†å…±äº«è®¸å¯åè®®](https://i.creativecommons.org/l/by-nc-nd/3.0/cn/88x31.png)

**å£°æ˜ï¼š**æœ¬ç«™çš„æ‰€æœ‰æ–‡ç« ï¼Œéƒ½é‡‡ç”¨[çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 3.0 ä¸­å›½å¤§é™†è®¸å¯åè®®](http://creativecommons.org/licenses/by-nc-nd/3.0/cn/)è¿›è¡Œè®¸å¯ã€‚

**æ³¨æ„ï¼š**è‹¥æœªä½œè¯´æ˜ï¼Œåˆ™æœ¬æ–‡ä¸ºã€Œ[**TNK**](https://ruterly.com/)ã€åŸåˆ›ã€‚è½¬è½½åŠ¡å¿…æ³¨æ˜[å‡ºå¤„](https://ruterly.com/2018/04/12/Outline-developed-by-Jigsaw/)ã€‚

æœ¬æ–‡æ°¸ä¹…åœ°å€ï¼šhttps://ruterly.com/2018/04/12/Outline-developed-by-Jigsaw/
